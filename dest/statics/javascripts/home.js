(function(){seajs.use(["jquery","underscore","Backbone","stats","chart"],function(a,b,c,d,e){var f,g,h,i,j,k,l;return f=c.View.extend({showError:function(c){var d;return d=a('<div class="alert alert-danger">'+c+"</div>"),d.appendTo(this.$el),b.delay(function(){return d.remove()},5e3)},showChartView:function(b){var c;return this.chartView&&this.chartView.remove(),c=a('<div class="chartView" />'),c.appendTo(this.$el),seajs.use("ChartView",function(a){return function(d){var e;e=new d({el:c}),e.setOptions(b),e.show(),a.chartView=e}}(this))},showStatsAddView:function(){var b;return this.chartView&&this.chartView.remove(),this.statsAddView&&this.statsAddView.remove(),b=a('<div class="addViewContainer" />'),b.appendTo(this.$el),seajs.use("StatsAddView",function(a){return function(c){var d;d=new c({el:b}),d.on("preview",function(b){return a.showChartView(b)}),d.on("error",function(b){return a.showError(b)}),a.statsAddView=d}}(this))}}),h=new f({el:a("#homeContainer .mainContainer")}),g=c.View.extend({initialize:function(){},events:function(){return{"click .add":"add"}},add:function(){return h.showStatsAddView()}}),l=new g({el:a("#homeContainer .statsList")}),l.add(),i=function(){var b,c;return b=600,c={category:"haproxy",date:{start:"2014-06-28"},key:[{value:"pv"},{value:"pv.category"}],point:{interval:b}},d.getChartData(c,function(c,d){return c?console.error(c):e.line(a(".pvContainer"),d,{interval:b,title:{text:"PV统计"}})})},k=function(){var b;return b={category:"haproxy",key:{value:"resTime.",type:"reg"},date:{start:"2014-06-28"},point:{interval:300}},d.getChartData(b,function(b,c){return b?console.error(b):e.pie(a(".resTimeStatusContainer"),c,{title:{text:"http响应时间"}})})},j=function(){var b;return b={category:"haproxy",key:{value:"reqTotal"},date:{start:"2014-06-28"}},d.getChartData(b,function(b,c){return b?console.error(b):e.column(a(".reqTotalContainer"),c,{title:{text:"http请求总数"}})})},"development"===CONFIG.env?seajs.emit("loadComplete"):void 0})}).call(this);