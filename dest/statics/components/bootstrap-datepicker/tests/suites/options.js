module("Options",{setup:function(){},teardown:function(){$("#qunit-fixture *").each(function(){var a=$(this);"datepicker"in a.data()&&a.datepicker("remove")})}}),test("Autoclose",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",autoclose:!0}),c=b.data("datepicker"),d=c.picker;b.focus(),ok(d.is(":visible"),"Picker is visible"),a=d.find(".datepicker-days tbody td:nth(7)"),equal(a.text(),"4"),a.click(),ok(d.is(":not(:visible)"),"Picker is hidden"),datesEqual(c.dates[0],UTCDate(2012,2,4)),datesEqual(c.viewDate,UTCDate(2012,2,4))}),test("Startview: year view (integer)",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:1}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(c.find(".datepicker-months").is(":visible"),"Months view visible"),ok(c.find(".datepicker-years").is(":not(:visible)"),"Years view hidden")}),test("Startview: year view (string)",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:"year"}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(c.find(".datepicker-months").is(":visible"),"Months view visible"),ok(c.find(".datepicker-years").is(":not(:visible)"),"Years view hidden")}),test("Startview: decade view (integer)",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:2}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(c.find(".datepicker-months").is(":not(:visible)"),"Months view hidden"),ok(c.find(".datepicker-years").is(":visible"),"Years view visible")}),test("Startview: decade view (string)",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:"decade"}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(c.find(".datepicker-months").is(":not(:visible)"),"Months view hidden"),ok(c.find(".datepicker-years").is(":visible"),"Years view visible")}),test("Today Button: today button not default",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd"}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":visible"),"Days view visible"),ok(c.find(".datepicker-days tfoot .today").is(":not(:visible)"),"Today button not visible")}),test("Today Button: today visibility when enabled",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayBtn:!0}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":visible"),"Days view visible"),ok(c.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible"),c.find(".datepicker-days thead th.datepicker-switch").click(),ok(c.find(".datepicker-months").is(":visible"),"Months view visible"),ok(c.find(".datepicker-months tfoot .today").is(":visible"),"Today button visible"),c.find(".datepicker-months thead th.datepicker-switch").click(),ok(c.find(".datepicker-years").is(":visible"),"Years view visible"),ok(c.find(".datepicker-years tfoot .today").is(":visible"),"Today button visible")}),test("Today Button: data-api",function(){var a=$('<input data-date-today-btn="true" />').appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd"}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":visible"),"Days view visible"),ok(c.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible")}),test("Today Button: moves to today's date",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayBtn:!0}),c=b.data("datepicker"),d=c.picker;b.focus(),ok(d.find(".datepicker-days").is(":visible"),"Days view visible"),ok(d.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible"),a=d.find(".datepicker-days tfoot .today"),a.click();var e=new Date,f=UTCDate(e.getFullYear(),e.getMonth(),e.getDate());datesEqual(c.viewDate,f),datesEqual(c.dates[0],UTCDate(2012,2,5))}),test('Today Button: "linked" selects today\'s date',function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayBtn:"linked"}),c=b.data("datepicker"),d=c.picker;b.focus(),ok(d.find(".datepicker-days").is(":visible"),"Days view visible"),ok(d.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible"),a=d.find(".datepicker-days tfoot .today"),a.click();var e=new Date,f=UTCDate(e.getFullYear(),e.getMonth(),e.getDate());datesEqual(c.viewDate,f),datesEqual(c.dates[0],f)}),test("Today Highlight: today's date is not highlighted by default",patch_date(function(a){a.now=UTCDate(2012,2,15);var b,c=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd"}),d=c.data("datepicker"),e=d.picker;c.focus(),ok(e.find(".datepicker-days").is(":visible"),"Days view visible"),equal(e.find(".datepicker-days thead .datepicker-switch").text(),"March 2012",'Title is "March 2012"'),b=e.find(".datepicker-days tbody td:contains(15)"),ok(!b.hasClass("today"),'Today is not marked with "today" class'),b=e.find(".datepicker-days tbody td:contains(14)"),ok(!b.hasClass("today"),'Yesterday is not marked with "today" class'),b=e.find(".datepicker-days tbody td:contains(16)"),ok(!b.hasClass("today"),'Tomorrow is not marked with "today" class')})),test("Today Highlight: today's date is highlighted when not active",patch_date(function(a){a.now=new a(2012,2,15);var b,c=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayHighlight:!0}),d=c.data("datepicker"),e=d.picker;c.focus(),ok(e.find(".datepicker-days").is(":visible"),"Days view visible"),equal(e.find(".datepicker-days thead .datepicker-switch").text(),"March 2012",'Title is "March 2012"'),b=e.find(".datepicker-days tbody td:contains(15)"),ok(b.hasClass("today"),'Today is marked with "today" class'),b=e.find(".datepicker-days tbody td:contains(14)"),ok(!b.hasClass("today"),'Yesterday is not marked with "today" class'),b=e.find(".datepicker-days tbody td:contains(16)"),ok(!b.hasClass("today"),'Tomorrow is not marked with "today" class')})),test("Clear Button: clear visibility when enabled",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",clearBtn:!0}),b=a.data("datepicker"),c=b.picker;a.focus(),ok(c.find(".datepicker-days").is(":visible"),"Days view visible"),ok(c.find(".datepicker-days tfoot .clear").is(":visible"),"Clear button visible"),c.find(".datepicker-days thead th.datepicker-switch").click(),ok(c.find(".datepicker-months").is(":visible"),"Months view visible"),ok(c.find(".datepicker-months tfoot .clear").is(":visible"),"Clear button visible"),c.find(".datepicker-months thead th.datepicker-switch").click(),ok(c.find(".datepicker-years").is(":visible"),"Years view visible"),ok(c.find(".datepicker-years tfoot .clear").is(":visible"),"Clear button visible")}),test("Clear Button: clears input value",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",clearBtn:!0}),c=b.data("datepicker"),d=c.picker;b.focus(),ok(d.find(".datepicker-days").is(":visible"),"Days view visible"),ok(d.find(".datepicker-days tfoot .clear").is(":visible"),"Today button visible"),a=d.find(".datepicker-days tfoot .clear"),a.click(),equal(b.val(),"","Input value has been cleared."),ok(d.is(":visible"),"Picker is visible")}),test("Clear Button: hides datepicker if autoclose is on",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",clearBtn:!0,autoclose:!0}),c=b.data("datepicker"),d=c.picker;b.focus(),ok(d.find(".datepicker-days").is(":visible"),"Days view visible"),ok(d.find(".datepicker-days tfoot .clear").is(":visible"),"Today button visible"),a=d.find(".datepicker-days tfoot .clear"),a.click(),equal(b.val(),"","Input value has been cleared."),ok(d.is(":not(:visible)"),"Picker is hidden")}),test("DaysOfWeekDisabled",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",daysOfWeekDisabled:"1,5"}),c=b.data("datepicker"),d=c.picker;b.focus(),a=d.find(".datepicker-days tbody td:nth(22)"),ok(a.hasClass("disabled"),"Day of week is disabled"),a=d.find(".datepicker-days tbody td:nth(24)"),ok(!a.hasClass("disabled"),"Day of week is enabled"),a=d.find(".datepicker-days tbody td:nth(26)"),ok(a.hasClass("disabled"),"Day of week is disabled")}),test("BeforeShowDay",function(){var a,b=function(a){var b=UTCDate(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()).getTime(),c=UTCDate(2012,9,25).getTime(),d=UTCDate(2012,9,26).getTime(),e=UTCDate(2012,9,27).getTime(),f=UTCDate(2012,9,28).getTime();return b==c?{tooltip:"A tooltip"}:b==d?"test26":b==e?{enabled:!1,classes:"test27"}:b==f?!1:void 0},c=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",beforeShowDay:b}),d=c.data("datepicker"),e=d.picker;c.focus(),a=e.find(".datepicker-days tbody td:nth(25)"),equal(a.attr("title"),"A tooltip","25th has tooltip"),ok(!a.hasClass("disabled"),"25th is enabled"),a=e.find(".datepicker-days tbody td:nth(26)"),ok(a.hasClass("test26"),"26th has test26 class"),ok(!a.hasClass("disabled"),"26th is enabled"),a=e.find(".datepicker-days tbody td:nth(27)"),ok(a.hasClass("test27"),"27th has test27 class"),ok(a.hasClass("disabled"),"27th is disabled"),a=e.find(".datepicker-days tbody td:nth(28)"),ok(a.hasClass("disabled"),"28th is disabled"),a=e.find(".datepicker-days tbody td:nth(29)"),ok(!a.hasClass("disabled"),"29th is enabled")}),test("Orientation: values are parsed correctly",function(){var a=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd"}),b=a.data("datepicker");equal(b.o.orientation.x,"auto"),equal(b.o.orientation.y,"auto"),b._process_options({orientation:""}),equal(b.o.orientation.x,"auto","Empty value"),equal(b.o.orientation.y,"auto","Empty value"),b._process_options({orientation:"left"}),equal(b.o.orientation.x,"left",'"left"'),equal(b.o.orientation.y,"auto",'"left"'),b._process_options({orientation:"right"}),equal(b.o.orientation.x,"right",'"right"'),equal(b.o.orientation.y,"auto",'"right"'),b._process_options({orientation:"top"}),equal(b.o.orientation.x,"auto",'"top"'),equal(b.o.orientation.y,"top",'"top"'),b._process_options({orientation:"bottom"}),equal(b.o.orientation.x,"auto",'"bottom"'),equal(b.o.orientation.y,"bottom",'"bottom"'),b._process_options({orientation:"left top"}),equal(b.o.orientation.x,"left",'"left top"'),equal(b.o.orientation.y,"top",'"left top"'),b._process_options({orientation:"left bottom"}),equal(b.o.orientation.x,"left",'"left bottom"'),equal(b.o.orientation.y,"bottom",'"left bottom"'),b._process_options({orientation:"right top"}),equal(b.o.orientation.x,"right",'"right top"'),equal(b.o.orientation.y,"top",'"right top"'),b._process_options({orientation:"right bottom"}),equal(b.o.orientation.x,"right",'"right bottom"'),equal(b.o.orientation.y,"bottom",'"right bottom"'),b._process_options({orientation:"left right"}),equal(b.o.orientation.x,"left",'"left right"'),equal(b.o.orientation.y,"auto",'"left right"'),b._process_options({orientation:"right left"}),equal(b.o.orientation.x,"right",'"right left"'),equal(b.o.orientation.y,"auto",'"right left"'),b._process_options({orientation:"top bottom"}),equal(b.o.orientation.x,"auto",'"top bottom"'),equal(b.o.orientation.y,"top",'"top bottom"'),b._process_options({orientation:"bottom top"}),equal(b.o.orientation.x,"auto",'"bottom top"'),equal(b.o.orientation.y,"bottom",'"bottom top"'),b._process_options({orientation:"foo bar"}),equal(b.o.orientation.x,"auto",'"foo bar"'),equal(b.o.orientation.y,"auto",'"foo bar"'),b._process_options({orientation:"foo left"}),equal(b.o.orientation.x,"left",'"foo left"'),equal(b.o.orientation.y,"auto",'"foo left"'),b._process_options({orientation:"top bar"}),equal(b.o.orientation.x,"auto",'"top bar"'),equal(b.o.orientation.y,"top",'"top bar"')}),test("startDate",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",startDate:new Date(2012,9,26)}),c=b.data("datepicker"),d=c.picker;b.focus(),a=d.find(".datepicker-days tbody td:nth(25)"),ok(a.hasClass("disabled"),"Previous day is disabled"),a=d.find(".datepicker-days tbody td:nth(26)"),ok(!a.hasClass("disabled"),"Specified date is enabled"),a=d.find(".datepicker-days tbody td:nth(27)"),ok(!a.hasClass("disabled"),"Next day is enabled")}),test("endDate",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",endDate:new Date(2012,9,26)}),c=b.data("datepicker"),d=c.picker;b.focus(),a=d.find(".datepicker-days tbody td:nth(25)"),ok(!a.hasClass("disabled"),"Previous day is enabled"),a=d.find(".datepicker-days tbody td:nth(26)"),ok(!a.hasClass("disabled"),"Specified date is enabled"),a=d.find(".datepicker-days tbody td:nth(27)"),ok(a.hasClass("disabled"),"Next day is disabled")}),test("Multidate",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",multidate:!0}),c=b.data("datepicker"),d=c.picker;b.focus(),ok(-1!==c.dates.contains(UTCDate(2012,2,5)),"2012-03-05 (initial date) in dates"),a=d.find(".datepicker-days tbody td:nth(7)"),equal(a.text(),"4"),a.click(),datesEqual(c.dates.get(-1),UTCDate(2012,2,4),"2012-03-04 in dates"),datesEqual(c.viewDate,UTCDate(2012,2,4)),equal(b.val(),"2012-03-05,2012-03-04"),a=d.find(".datepicker-days tbody td:nth(15)"),equal(a.text(),"12"),a.click(),datesEqual(c.dates.get(-1),UTCDate(2012,2,12),"2012-03-12 in dates"),datesEqual(c.viewDate,UTCDate(2012,2,12)),equal(b.val(),"2012-03-05,2012-03-04,2012-03-12"),a=d.find(".datepicker-days tbody td:nth(7)"),equal(a.text(),"4"),a.click(),ok(-1===c.dates.contains(UTCDate(2012,2,4)),"2012-03-04 no longer in dates"),datesEqual(c.viewDate,UTCDate(2012,2,4)),equal(b.val(),"2012-03-05,2012-03-12")}),test("Multidate with limit",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",multidate:2}),c=b.data("datepicker"),d=c.picker;b.focus(),ok(-1!==c.dates.contains(UTCDate(2012,2,5)),"2012-03-05 (initial date) in dates"),a=d.find(".datepicker-days tbody td:nth(7)"),equal(a.text(),"4"),a.click(),datesEqual(c.dates.get(-1),UTCDate(2012,2,4),"2012-03-04 in dates"),datesEqual(c.viewDate,UTCDate(2012,2,4)),equal(b.val(),"2012-03-05,2012-03-04"),a=d.find(".datepicker-days tbody td:nth(15)"),equal(a.text(),"12"),a.click(),datesEqual(c.dates.get(-1),UTCDate(2012,2,12),"2012-03-12 in dates"),datesEqual(c.viewDate,UTCDate(2012,2,12)),equal(b.val(),"2012-03-04,2012-03-12"),a=d.find(".datepicker-days tbody td:nth(20)"),equal(a.text(),"17"),a.click(),datesEqual(c.dates.get(-1),UTCDate(2012,2,17),"2012-03-17 in dates"),ok(-1===c.dates.contains(UTCDate(2012,2,4)),"2012-03-04 no longer in dates"),datesEqual(c.viewDate,UTCDate(2012,2,17)),equal(b.val(),"2012-03-12,2012-03-17")}),test("Multidate Separator",function(){var a,b=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",multidate:!0,multidateSeparator:" "}),c=b.data("datepicker"),d=c.picker;b.focus(),a=d.find(".datepicker-days tbody td:nth(7)"),equal(a.text(),"4"),a.click(),equal(b.val(),"2012-03-05 2012-03-04"),a=d.find(".datepicker-days tbody td:nth(15)"),equal(a.text(),"12"),a.click(),equal(b.val(),"2012-03-05 2012-03-04 2012-03-12")});